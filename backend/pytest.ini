[pytest]
# Configuration pytest pour les tests du backend Alteris

# Dossiers à tester
testpaths = tests

# Pattern de recherche des fichiers de test
python_files = test_*.py

# Pattern de recherche des classes de test
python_classes = Test*

# Pattern de recherche des fonctions de test
python_functions = test_*

# Options de sortie
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    -p no:cacheprovider

# Markers personnalisés
markers =
    unit: Tests unitaires (fonctions et modèles)
    integration: Tests d'intégration (routes API)
    auth: Tests du module d'authentification
    apprenti: Tests du module apprenti
    admin: Tests du module administrateur
    tuteur: Tests du module tuteur
    maitre: Tests du module maître d'apprentissage
    professeur: Tests du module professeur
    jury: Tests du module jury
    coordonatrice: Tests du module coordonatrice
    responsable_cursus: Tests du module responsable cursus
    entreprise: Tests du module entreprise
    slow: Tests potentiellement lents

# Async support
asyncio_mode = auto

# Coverage options (si pytest-cov est installé)
# --cov=auth --cov=apprenti --cov=admin --cov-report=html --cov-report=term
